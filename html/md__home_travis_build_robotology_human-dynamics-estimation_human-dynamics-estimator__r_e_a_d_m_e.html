<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Human Dynamics Estimation: YARP human-dynamics-estimator module.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Human Dynamics Estimation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">YARP human-dynamics-estimator module. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Module for computing dynamic variables estimation starting from the data coming from <a href="https://github.com/robotology-playground/human-dynamics-estimation/tree/master/human-forces-provider">human-forces-provider</a> module (forces6D) and from <a href="https://github.com/robotology-playground/human-dynamics-estimation/tree/master/human-state-provider">human-state-provider</a> module (human kinematics data).</p>
<p>The module is structured as follow:</p>
<div class="image">
<img src="/misc/human-dynamics-estimator.png" />
</div>
<p>where:</p>
<ul>
<li><b>MAP computation</b> is the function that solves the inverse dynamics problem with a maximum-a-posteriori estimation by using the Newton-Euler algorithm and a set of redundant sensor measurements. It needs as input the human state (joints configuration and joints velocity), the berdy <a class="el" href="namespacei_dyn_tree.html">iDynTree</a> object and the vector (y) of measurements.<ul>
<li><b>y measurements</b>: vector of sensor measurements that includes external forces (forces6D) and data coming from accelerometres, gyroscopes and DOF acceleration sensors (human kinematics data).</li>
<li><b>berdy</b>: <a class="el" href="namespacei_dyn_tree.html">iDynTree</a> object of <a href="http://wiki.icub.org/codyco/dox/html/idyntree/html/classiDynTree_1_1BerdyHelper.html">BerdyHelper</a> class, that is a class for algorithms to compute the maximum-a-posteriori estimation of the dynamic variables of a multibody model assuming the knowledge of measurements of an arbitrary set of sensors and of the kinematics and inertial characteristics of the model. Berdy initialization needs as input the human model along with the information of the related sensors and berdy options.</li>
</ul>
</li>
</ul>
<p><b>Note</b>: berdy initialization is done only for the first step. At each timestamp y measurements vector is filled and MAP computation is done.</p>
<h2>Theoretical background on MAP computation with Cholesky decomposition</h2>
<p>The Cholesky decomposition is a decomposition of a Hermitian, positive-definite matrix into the product of a lower triangular matrix and its conjugate transpose:</p>
<p><b>A</b> = <b>L L'</b></p>
<p>where <b>L</b> is a lower triangular matrix with real and positive diagonal entries, and <b>L'</b> denotes the conjugate transpose of <b>L</b>. The Cholesky decomposition is mainly used for the numerical solution of linear equations <b>A x</b> = <b>b</b>. If <b>A</b> is symmetric and positive definite, then we can solve <b>A x</b> = <b>b</b> by first computing the Cholesky decomposition <b>A</b> = <b>L L'</b>, then solving <b>L y</b> = <b>b</b> for <b>y</b> by forward substitution, and finally solving <b>L' x</b> = <b>y</b> for <b>x</b> by back substitution. When <b>A</b> is sparse, a permutation matrix <b>P</b>, such that <b>L L'</b> = <b>P' A P</b>, speeds up the linear system solution. The Cholesky factorisation of <b>P' A P</b> tends to be sparser than that of <b>A</b>.</p>
<p><b>Eigen SimplicialLLT</b> class performs Cholesky factorisations of sparse matrices that are selfadjoint and positive definite. In order to reduce the fill-in, a symmetric permutation matrix <b>P</b> is applied prior to the factorisation. When solving for several problems having the same structure the Cholesky decomposition can be divided into two steps. First, <em>analyzePattern</em> function performs a symbolic decomposition on the sparsity of a matrix. This function reorders the non zeros elements of the matrix, such that the factorisation step creates less fill-in. This step exploits only the structure of the matrix, hence the results of this step can be used for other linear system where the matrix has the same structure. Second, <em>factorize</em> function performs a numeric decomposition of the matrix, that must have the same sparsity than the matrix on which the symbolic decomposition has been performed. The factors of the matrix are computed in this step. In this way, if the sparsity of the matrix remains the same, <em>analyzePattern</em> function is run only once, while <em>factorize</em> function should be called each time the values of the matrix change. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
